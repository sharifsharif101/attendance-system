# دليل تثبيت وتشغيل النظام (Installation Guide)

هذا الدليل يشرح كيفية تثبيت وتشغيل النظام على جهاز جديد (نظام Windows) باستخدام قاعدة بيانات MySQL.

## المتطلبات الأساسية (Prerequisites)

قبل البدء، تأكد من تثبيت البرامج التالية على الجهاز:

1.  **XAMPP** (أو أي برنامج يوفر PHP و MySQL):
    *   قم بتحميله من [apachefriends.org](https://www.apachefriends.org/download.html).
    *   تأكد من اختيار نسخة تحتوي على **PHP 8.2** أو أحدث.
    *   بعد التثبيت، قم بتشغيل **Apache** و **MySQL** من لوحة تحكم XAMPP.

2.  **Composer**:
    *   قم بتحميله من [getcomposer.org](https://getcomposer.org/download/).
    *   أثناء التثبيت، سيطلب منك تحديد مسار ملف `php.exe` (عادة موجود في `C:\xampp\php\php.exe`).

3.  **Node.js**:
    *   قم بتحميله وتثبيته من [nodejs.org](https://nodejs.org/).

4.  **Git** (اختياري لكن مفضل):
    *   لتحميل ملفات المشروع بسهولة.

---

## خطوات التثبيت (Installation Steps)

1.  **نسخ ملفات المشروع**:
    *   انسخ مجلد المشروع بالكامل إلى الجهاز الجديد (مثلاً في `C:\xampp\htdocs\attendance-system` أو على سطح المكتب).
    *   افتح "موجه الأوامر" (Command Prompt - CMD) أو Terminal داخل مجلد المشروع.

2.  **تثبيت مكتبات PHP**:
    نفذ الأمر التالي لتحميل جميع الملحقات المطلوبة:
    ```bash
    composer install
    ```

3.  **تثبيت مكتبات الواجهة الأمامية (Frontend)**:
    نفذ الأمرين التاليين:
    ```bash
    npm install
    npm run build
    ```

4.  **إعداد ملف البيئة (.env)**:
    *   انسخ ملف `.env.example` وقم بتغيير اسمه إلى `.env`. يمكنك فعل ذلك بالأمر:
        ```bash
        copy .env.example .env
        ```
    *   افتح ملف `.env` بأي محرر نصوص (مثل Notepad).
    *   ابحث عن قسم إعدادات قاعدة البيانات وعدّله ليتناسب مع MySQL (على XAMPP الإعدادات الافتراضية تكون عادة كالتالي):
        ```ini
        DB_CONNECTION=mysql
        DB_HOST=127.0.0.1
        DB_PORT=3306
        DB_DATABASE=attendance_db
        DB_USERNAME=root
        DB_PASSWORD=
        ```
        *(ملاحظة: تأكد من أن كلمة المرور `DB_PASSWORD` فارغة إذا لم تضع كلمة مرور للروت في XAMPP).*

5.  **إنشاء قاعدة البيانات**:
    *   افتح المتصفح واذهب إلى `http://localhost/phpmyadmin`.
    *   أنشئ قاعدة بيانات جديدة بنفس الاسم الذي وضعته في الملف (`attendance_db`).

6.  **توليد مفتاح التشفير وتشغيل الجداول**:
    عُد إلى الـ CMD ونفذ الأوامر التالية بالترتيب:
    ```bash
    php artisan key:generate
    php artisan migrate --seed
    ```
    *(الأمر `--seed` سيقوم بإضافة بيانات أولية تجريبية إذا كانت موجودة).*

---

## تشغيل النظام (Running the System)

لتشغيل النظام يومياً، تحتاج إلى فتح "نافذتين" CMD داخل مجلد المشروع وتشغيل أمرين:

1.  **تشغيل السيرفر**:
    ```bash
    php artisan serve
    ```
    سيظهر لك رابط (عادة `http://127.0.0.1:8000`)، هذا هو رابط الموقع.

2.  (اختياري للتطوير) **تشغيل ملفات التصميم**:
    ```bash
    npm run dev
    ```

**نصيحة:** يمكنك إنشاء ملف لتشغيل كل شيء بضغطة زر (انظر الملف المرفق `run-app.bat`).
